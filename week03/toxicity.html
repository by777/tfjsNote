<!--
 * @Author: Xu Bai
 * @Date: 2020-07-23 23:50:35
 * @LastEditors: Xu Bai
 * @LastEditTime: 2020-07-24 00:11:14
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/toxicity"></script>
    <script>
        // 预测阈值
        const threshold = 0.9;
        toxicity.load(threshold).then(model => {
            const sentences = ['you suck'];
            model.classify(sentences).then(predictions => {
                console.log(predictions);
                for(i=0; i<7; i++){
                    if(predictions[i].results[0].match){
                        console.log(predictions[i].label + 
                                    " was found with probability of " + 
                                    predictions[i].results[0].probabilities[1]);                
                    }  
                }
            });
        });
        </script> 
</head>

<body>

</body>

</html>